/**************************************************************
深圳银星智能电器有限公司
文件名：maht1.c
功能：查表法实现三角函数Sin, Cos
版本：1.0
作者：邓绪意
时间：2016.07.18
说明：
查表法实现三角函数Sin, Cos

修改信息：
修改时间：
修改内容：
**************************************************************/	
//#include "soft.h"
#include "stm32f4xx_hal.h"
#include <stdio.h>
#include <string.h>
#include <stdlib.h>

#include "my_math.h"

//#define ABS(a)   ((a)>=0?(a):(-(a)))    //dxy


const uint16_t sin_map[902]=
{
	0   ,
	29	,
	57	,
	86	,
	114 ,
	143 ,
	172 ,
	200 ,
	229 ,
	257 ,
	286 ,
	315 ,
	343 ,
	372 ,
	400 ,
	429 ,
	457 ,
	486 ,
	515 ,
	543 ,
	572 ,
	600 ,
	629 ,
	658 ,
	686 ,
	715 ,
	743 ,
	772 ,
	800 ,
	829 ,
	857 ,
	886 ,
	915 ,
	943 ,
	972 ,
	1000	,
	1029	,
	1057	,
	1086	,
	1114	,
	1143	,
	1171	,
	1200	,
	1228	,
	1257	,
	1285	,
	1314	,
	1342	,
	1371	,
	1399	,
	1428	,
	1456	,
	1485	,
	1513	,
	1542	,
	1570	,
	1599	,
	1627	,
	1656	,
	1684	,
	1713	,
	1741	,
	1769	,
	1798	,
	1826	,
	1855	,
	1883	,
	1912	,
	1940	,
	1968	,
	1997	,
	2025	,
	2053	,
	2082	,
	2110	,
	2139	,
	2167	,
	2195	,
	2224	,
	2252	,
	2280	,
	2309	,
	2337	,
	2365	,
	2393	,
	2422	,
	2450	,
	2478	,
	2507	,
	2535	,
	2563	,
	2591	,
	2619	,
	2648	,
	2676	,
	2704	,
	2732	,
	2761	,
	2789	,
	2817	,
	2845	,
	2873	,
	2901	,
	2929	,
	2958	,
	2986	,
	3014	,
	3042	,
	3070	,
	3098	,
	3126	,
	3154	,
	3182	,
	3210	,
	3238	,
	3266	,
	3294	,
	3322	,
	3350	,
	3378	,
	3406	,
	3434	,
	3462	,
	3490	,
	3518	,
	3546	,
	3574	,
	3602	,
	3630	,
	3658	,
	3686	,
	3713	,
	3741	,
	3769	,
	3797	,
	3825	,
	3853	,
	3880	,
	3908	,
	3936	,
	3964	,
	3991	,
	4019	,
	4047	,
	4075	,
	4102	,
	4130	,
	4158	,
	4185	,
	4213	,
	4240	,
	4268	,
	4296	,
	4323	,
	4351	,
	4378	,
	4406	,
	4434	,
	4461	,
	4489	,
	4516	,
	4544	,
	4571	,
	4598	,
	4626	,
	4653	,
	4681	,
	4708	,
	4735	,
	4763	,
	4790	,
	4818	,
	4845	,
	4872	,
	4899	,
	4927	,
	4954	,
	4981	,
	5009	,
	5036	,
	5063	,
	5090	,
	5117	,
	5144	,
	5172	,
	5199	,
	5226	,
	5253	,
	5280	,
	5307	,
	5334	,
	5361	,
	5388	,
	5415	,
	5442	,
	5469	,
	5496	,
	5523	,
	5550	,
	5577	,
	5604	,
	5631	,
	5657	,
	5684	,
	5711	,
	5738	,
	5765	,
	5791	,
	5818	,
	5845	,
	5872	,
	5898	,
	5925	,
	5952	,
	5978	,
	6005	,
	6031	,
	6058	,
	6084	,
	6111	,
	6138	,
	6164	,
	6191	,
	6217	,
	6243	,
	6270	,
	6296	,
	6323	,
	6349	,
	6375	,
	6402	,
	6428	,
	6454	,
	6481	,
	6507	,
	6533	,
	6559	,
	6586	,
	6612	,
	6638	,
	6664	,
	6690	,
	6716	,
	6742	,
	6768	,
	6794	,
	6820	,
	6846	,
	6872	,
	6898	,
	6924	,
	6950	,
	6976	,
	7002	,
	7028	,
	7053	,
	7079	,
	7105	,
	7131	,
	7157	,
	7182	,
	7208	,
	7234	,
	7259	,
	7285	,
	7311	,
	7336	,
	7362	,
	7387	,
	7413	,
	7438	,
	7464	,
	7489	,
	7515	,
	7540	,
	7565	,
	7591	,
	7616	,
	7641	,
	7667	,
	7692	,
	7717	,
	7742	,
	7767	,
	7793	,
	7818	,
	7843	,
	7868	,
	7893	,
	7918	,
	7943	,
	7968	,
	7993	,
	8018	,
	8043	,
	8068	,
	8093	,
	8118	,
	8142	,
	8167	,
	8192	,
	8217	,
	8241	,
	8266	,
	8291	,
	8316	,
	8340	,
	8365	,
	8389	,
	8414	,
	8438	,
	8463	,
	8487	,
	8512	,
	8536	,
	8561	,
	8585	,
	8609	,
	8634	,
	8658	,
	8682	,
	8706	,
	8731	,
	8755	,
	8779	,
	8803	,
	8827	,
	8851	,
	8875	,
	8899	,
	8923	,
	8947	,
	8971	,
	8995	,
	9019	,
	9043	,
	9067	,
	9091	,
	9114	,
	9138	,
	9162	,
	9186	,
	9209	,
	9233	,
	9256	,
	9280	,
	9304	,
	9327	,
	9351	,
	9374	,
	9397	,
	9421	,
	9444	,
	9468	,
	9491	,
	9514	,
	9538	,
	9561	,
	9584	,
	9607	,
	9630	,
	9653	,
	9676	,
	9700	,
	9723	,
	9746	,
	9769	,
	9791	,
	9814	,
	9837	,
	9860	,
	9883	,
	9906	,
	9929	,
	9951	,
	9974	,
	9997	,
	10019	,
	10042	,
	10064	,
	10087	,
	10110	,
	10132	,
	10154	,
	10177	,
	10199	,
	10222	,
	10244	,
	10266	,
	10289	,
	10311	,
	10333	,
	10355	,
	10377	,
	10399	,
	10422	,
	10444	,
	10466	,
	10488	,
	10510	,
	10531	,
	10553	,
	10575	,
	10597	,
	10619	,
	10641	,
	10662	,
	10684	,
	10706	,
	10727	,
	10749	,
	10770	,
	10792	,
	10813	,
	10835	,
	10856	,
	10878	,
	10899	,
	10920	,
	10942	,
	10963	,
	10984	,
	11005	,
	11027	,
	11048	,
	11069	,
	11090	,
	11111	,
	11132	,
	11153	,
	11174	,
	11195	,
	11216	,
	11236	,
	11257	,
	11278	,
	11299	,
	11319	,
	11340	,
	11361	,
	11381	,
	11402	,
	11422	,
	11443	,
	11463	,
	11484	,
	11504	,
	11524	,
	11545	,
	11565	,
	11585	,
	11605	,
	11626	,
	11646	,
	11666	,
	11686	,
	11706	,
	11726	,
	11746	,
	11766	,
	11786	,
	11806	,
	11825	,
	11845	,
	11865	,
	11885	,
	11904	,
	11924	,
	11943	,
	11963	,
	11982	,
	12002	,
	12021	,
	12041	,
	12060	,
	12080	,
	12099	,
	12118	,
	12137	,
	12157	,
	12176	,
	12195	,
	12214	,
	12233	,
	12252	,
	12271	,
	12290	,
	12309	,
	12328	,
	12346	,
	12365	,
	12384	,
	12403	,
	12421	,
	12440	,
	12458	,
	12477	,
	12496	,
	12514	,
	12532	,
	12551	,
	12569	,
	12588	,
	12606	,
	12624	,
	12642	,
	12660	,
	12679	,
	12697	,
	12715	,
	12733	,
	12751	,
	12769	,
	12787	,
	12804	,
	12822	,
	12840	,
	12858	,
	12875	,
	12893	,
	12911	,
	12928	,
	12946	,
	12963	,
	12981	,
	12998	,
	13016	,
	13033	,
	13050	,
	13068	,
	13085	,
	13102	,
	13119	,
	13136	,
	13153	,
	13170	,
	13187	,
	13204	,
	13221	,
	13238	,
	13255	,
	13272	,
	13288	,
	13305	,
	13322	,
	13338	,
	13355	,
	13372	,
	13388	,
	13405	,
	13421	,
	13437	,
	13454	,
	13470	,
	13486	,
	13502	,
	13519	,
	13535	,
	13551	,
	13567	,
	13583	,
	13599	,
	13615	,
	13631	,
	13647	,
	13662	,
	13678	,
	13694	,
	13710	,
	13725	,
	13741	,
	13756	,
	13772	,
	13787	,
	13803	,
	13818	,
	13833	,
	13849	,
	13864	,
	13879	,
	13894	,
	13910	,
	13925	,
	13940	,
	13955	,
	13970	,
	13985	,
	13999	,
	14014	,
	14029	,
	14044	,
	14059	,
	14073	,
	14088	,
	14102	,
	14117	,
	14131	,
	14146	,
	14160	,
	14175	,
	14189	,
	14203	,
	14217	,
	14232	,
	14246	,
	14260	,
	14274	,
	14288	,
	14302	,
	14316	,
	14330	,
	14344	,
	14357	,
	14371	,
	14385	,
	14399	,
	14412	,
	14426	,
	14439	,
	14453	,
	14466	,
	14480	,
	14493	,
	14506	,
	14520	,
	14533	,
	14546	,
	14559	,
	14572	,
	14585	,
	14598	,
	14611	,
	14624	,
	14637	,
	14650	,
	14663	,
	14675	,
	14688	,
	14701	,
	14713	,
	14726	,
	14738	,
	14751	,
	14763	,
	14776	,
	14788	,
	14800	,
	14812	,
	14825	,
	14837	,
	14849	,
	14861	,
	14873	,
	14885	,
	14897	,
	14909	,
	14921	,
	14932	,
	14944	,
	14956	,
	14968	,
	14979	,
	14991	,
	15002	,
	15014	,
	15025	,
	15036	,
	15048	,
	15059	,
	15070	,
	15082	,
	15093	,
	15104	,
	15115	,
	15126	,
	15137	,
	15148	,
	15159	,
	15169	,
	15180	,
	15191	,
	15202	,
	15212	,
	15223	,
	15233	,
	15244	,
	15254	,
	15265	,
	15275	,
	15286	,
	15296	,
	15306	,
	15316	,
	15326	,
	15336	,
	15346	,
	15356	,
	15366	,
	15376	,
	15386	,
	15396	,
	15406	,
	15415	,
	15425	,
	15435	,
	15444	,
	15454	,
	15463	,
	15473	,
	15482	,
	15491	,
	15501	,
	15510	,
	15519	,
	15528	,
	15537	,
	15546	,
	15555	,
	15564	,
	15573	,
	15582	,
	15591	,
	15600	,
	15608	,
	15617	,
	15626	,
	15634	,
	15643	,
	15651	,
	15660	,
	15668	,
	15676	,
	15685	,
	15693	,
	15701	,
	15709	,
	15717	,
	15725	,
	15733	,
	15741	,
	15749	,
	15757	,
	15765	,
	15773	,
	15780	,
	15788	,
	15796	,
	15803	,
	15811	,
	15818	,
	15826	,
	15833	,
	15840	,
	15848	,
	15855	,
	15862	,
	15869	,
	15876	,
	15883	,
	15890	,
	15897	,
	15904	,
	15911	,
	15918	,
	15925	,
	15931	,
	15938	,
	15945	,
	15951	,
	15958	,
	15964	,
	15970	,
	15977	,
	15983	,
	15989	,
	15996	,
	16002	,
	16008	,
	16014	,
	16020	,
	16026	,
	16032	,
	16038	,
	16044	,
	16049	,
	16055	,
	16061	,
	16066	,
	16072	,
	16077	,
	16083	,
	16088	,
	16094	,
	16099	,
	16104	,
	16110	,
	16115	,
	16120	,
	16125	,
	16130	,
	16135	,
	16140	,
	16145	,
	16150	,
	16155	,
	16159	,
	16164	,
	16169	,
	16173	,
	16178	,
	16182	,
	16187	,
	16191	,
	16195	,
	16200	,
	16204	,
	16208	,
	16212	,
	16216	,
	16221	,
	16225	,
	16229	,
	16232	,
	16236	,
	16240	,
	16244	,
	16248	,
	16251	,
	16255	,
	16258	,
	16262	,
	16265	,
	16269	,
	16272	,
	16275	,
	16279	,
	16282	,
	16285	,
	16288	,
	16291	,
	16294	,
	16297	,
	16300	,
	16303	,
	16306	,
	16309	,
	16311	,
	16314	,
	16317	,
	16319	,
	16322	,
	16324	,
	16327	,
	16329	,
	16331	,
	16333	,
	16336	,
	16338	,
	16340	,
	16342	,
	16344	,
	16346	,
	16348	,
	16350	,
	16352	,
	16353	,
	16355	,
	16357	,
	16358	,
	16360	,
	16362	,
	16363	,
	16364	,
	16366	,
	16367	,
	16368	,
	16370	,
	16371	,
	16372	,
	16373	,
	16374	,
	16375	,
	16376	,
	16377	,
	16378	,
	16378	,
	16379	,
	16380	,
	16380	,
	16381	,
	16382	,
	16382	,
	16382	,
	16383	,
	16383	,
	16383	,
	16384	,
	16384	,
	16384	,
	16384	,
	16384		
};

const uint16_t cos_map[902]=
{
	16384	,
	16384	,
	16384	,
	16384	,
	16384	,
	16383	,
	16383	,
	16383	,
	16382	,
	16382	,
	16382	,
	16381	,
	16380	,
	16380	,
	16379	,
	16378	,
	16378	,
	16377	,
	16376	,
	16375	,
	16374	,
	16373	,
	16372	,
	16371	,
	16370	,
	16368	,
	16367	,
	16366	,
	16364	,
	16363	,
	16362	,
	16360	,
	16358	,
	16357	,
	16355	,
	16353	,
	16352	,
	16350	,
	16348	,
	16346	,
	16344	,
	16342	,
	16340	,
	16338	,
	16336	,
	16333	,
	16331	,
	16329	,
	16327	,
	16324	,
	16322	,
	16319	,
	16317	,
	16314	,
	16311	,
	16309	,
	16306	,
	16303	,
	16300	,
	16297	,
	16294	,
	16291	,
	16288	,
	16285	,
	16282	,
	16279	,
	16275	,
	16272	,
	16269	,
	16265	,
	16262	,
	16258	,
	16255	,
	16251	,
	16248	,
	16244	,
	16240	,
	16236	,
	16232	,
	16229	,
	16225	,
	16221	,
	16216	,
	16212	,
	16208	,
	16204	,
	16200	,
	16195	,
	16191	,
	16187	,
	16182	,
	16178	,
	16173	,
	16169	,
	16164	,
	16159	,
	16155	,
	16150	,
	16145	,
	16140	,
	16135	,
	16130	,
	16125	,
	16120	,
	16115	,
	16110	,
	16104	,
	16099	,
	16094	,
	16088	,
	16083	,
	16077	,
	16072	,
	16066	,
	16061	,
	16055	,
	16049	,
	16044	,
	16038	,
	16032	,
	16026	,
	16020	,
	16014	,
	16008	,
	16002	,
	15996	,
	15989	,
	15983	,
	15977	,
	15970	,
	15964	,
	15958	,
	15951	,
	15945	,
	15938	,
	15931	,
	15925	,
	15918	,
	15911	,
	15904	,
	15897	,
	15890	,
	15883	,
	15876	,
	15869	,
	15862	,
	15855	,
	15848	,
	15840	,
	15833	,
	15826	,
	15818	,
	15811	,
	15803	,
	15796	,
	15788	,
	15780	,
	15773	,
	15765	,
	15757	,
	15749	,
	15741	,
	15733	,
	15725	,
	15717	,
	15709	,
	15701	,
	15693	,
	15685	,
	15676	,
	15668	,
	15660	,
	15651	,
	15643	,
	15634	,
	15626	,
	15617	,
	15608	,
	15600	,
	15591	,
	15582	,
	15573	,
	15564	,
	15555	,
	15546	,
	15537	,
	15528	,
	15519	,
	15510	,
	15501	,
	15491	,
	15482	,
	15473	,
	15463	,
	15454	,
	15444	,
	15435	,
	15425	,
	15415	,
	15406	,
	15396	,
	15386	,
	15376	,
	15366	,
	15356	,
	15346	,
	15336	,
	15326	,
	15316	,
	15306	,
	15296	,
	15286	,
	15275	,
	15265	,
	15254	,
	15244	,
	15233	,
	15223	,
	15212	,
	15202	,
	15191	,
	15180	,
	15169	,
	15159	,
	15148	,
	15137	,
	15126	,
	15115	,
	15104	,
	15093	,
	15082	,
	15070	,
	15059	,
	15048	,
	15036	,
	15025	,
	15014	,
	15002	,
	14991	,
	14979	,
	14968	,
	14956	,
	14944	,
	14932	,
	14921	,
	14909	,
	14897	,
	14885	,
	14873	,
	14861	,
	14849	,
	14837	,
	14825	,
	14812	,
	14800	,
	14788	,
	14776	,
	14763	,
	14751	,
	14738	,
	14726	,
	14713	,
	14701	,
	14688	,
	14675	,
	14663	,
	14650	,
	14637	,
	14624	,
	14611	,
	14598	,
	14585	,
	14572	,
	14559	,
	14546	,
	14533	,
	14520	,
	14506	,
	14493	,
	14480	,
	14466	,
	14453	,
	14439	,
	14426	,
	14412	,
	14399	,
	14385	,
	14371	,
	14357	,
	14344	,
	14330	,
	14316	,
	14302	,
	14288	,
	14274	,
	14260	,
	14246	,
	14232	,
	14217	,
	14203	,
	14189	,
	14175	,
	14160	,
	14146	,
	14131	,
	14117	,
	14102	,
	14088	,
	14073	,
	14059	,
	14044	,
	14029	,
	14014	,
	13999	,
	13985	,
	13970	,
	13955	,
	13940	,
	13925	,
	13910	,
	13894	,
	13879	,
	13864	,
	13849	,
	13833	,
	13818	,
	13803	,
	13787	,
	13772	,
	13756	,
	13741	,
	13725	,
	13710	,
	13694	,
	13678	,
	13662	,
	13647	,
	13631	,
	13615	,
	13599	,
	13583	,
	13567	,
	13551	,
	13535	,
	13519	,
	13502	,
	13486	,
	13470	,
	13454	,
	13437	,
	13421	,
	13405	,
	13388	,
	13372	,
	13355	,
	13338	,
	13322	,
	13305	,
	13288	,
	13272	,
	13255	,
	13238	,
	13221	,
	13204	,
	13187	,
	13170	,
	13153	,
	13136	,
	13119	,
	13102	,
	13085	,
	13068	,
	13050	,
	13033	,
	13016	,
	12998	,
	12981	,
	12963	,
	12946	,
	12928	,
	12911	,
	12893	,
	12875	,
	12858	,
	12840	,
	12822	,
	12804	,
	12787	,
	12769	,
	12751	,
	12733	,
	12715	,
	12697	,
	12679	,
	12660	,
	12642	,
	12624	,
	12606	,
	12588	,
	12569	,
	12551	,
	12532	,
	12514	,
	12496	,
	12477	,
	12458	,
	12440	,
	12421	,
	12403	,
	12384	,
	12365	,
	12346	,
	12328	,
	12309	,
	12290	,
	12271	,
	12252	,
	12233	,
	12214	,
	12195	,
	12176	,
	12157	,
	12137	,
	12118	,
	12099	,
	12080	,
	12060	,
	12041	,
	12021	,
	12002	,
	11982	,
	11963	,
	11943	,
	11924	,
	11904	,
	11885	,
	11865	,
	11845	,
	11825	,
	11806	,
	11786	,
	11766	,
	11746	,
	11726	,
	11706	,
	11686	,
	11666	,
	11646	,
	11626	,
	11605	,
	11585	,
	11565	,
	11545	,
	11524	,
	11504	,
	11484	,
	11463	,
	11443	,
	11422	,
	11402	,
	11381	,
	11361	,
	11340	,
	11319	,
	11299	,
	11278	,
	11257	,
	11236	,
	11216	,
	11195	,
	11174	,
	11153	,
	11132	,
	11111	,
	11090	,
	11069	,
	11048	,
	11027	,
	11005	,
	10984	,
	10963	,
	10942	,
	10920	,
	10899	,
	10878	,
	10856	,
	10835	,
	10813	,
	10792	,
	10770	,
	10749	,
	10727	,
	10706	,
	10684	,
	10662	,
	10641	,
	10619	,
	10597	,
	10575	,
	10553	,
	10531	,
	10510	,
	10488	,
	10466	,
	10444	,
	10422	,
	10399	,
	10377	,
	10355	,
	10333	,
	10311	,
	10289	,
	10266	,
	10244	,
	10222	,
	10199	,
	10177	,
	10154	,
	10132	,
	10110	,
	10087	,
	10064	,
	10042	,
	10019	,
	9997	,
	9974	,
	9951	,
	9929	,
	9906	,
	9883	,
	9860	,
	9837	,
	9814	,
	9791	,
	9769	,
	9746	,
	9723	,
	9700	,
	9676	,
	9653	,
	9630	,
	9607	,
	9584	,
	9561	,
	9538	,
	9514	,
	9491	,
	9468	,
	9444	,
	9421	,
	9397	,
	9374	,
	9351	,
	9327	,
	9304	,
	9280	,
	9256	,
	9233	,
	9209	,
	9186	,
	9162	,
	9138	,
	9114	,
	9091	,
	9067	,
	9043	,
	9019	,
	8995	,
	8971	,
	8947	,
	8923	,
	8899	,
	8875	,
	8851	,
	8827	,
	8803	,
	8779	,
	8755	,
	8731	,
	8706	,
	8682	,
	8658	,
	8634	,
	8609	,
	8585	,
	8561	,
	8536	,
	8512	,
	8487	,
	8463	,
	8438	,
	8414	,
	8389	,
	8365	,
	8340	,
	8316	,
	8291	,
	8266	,
	8241	,
	8217	,
	8192	,
	8167	,
	8142	,
	8118	,
	8093	,
	8068	,
	8043	,
	8018	,
	7993	,
	7968	,
	7943	,
	7918	,
	7893	,
	7868	,
	7843	,
	7818	,
	7793	,
	7767	,
	7742	,
	7717	,
	7692	,
	7667	,
	7641	,
	7616	,
	7591	,
	7565	,
	7540	,
	7515	,
	7489	,
	7464	,
	7438	,
	7413	,
	7387	,
	7362	,
	7336	,
	7311	,
	7285	,
	7259	,
	7234	,
	7208	,
	7182	,
	7157	,
	7131	,
	7105	,
	7079	,
	7053	,
	7028	,
	7002	,
	6976	,
	6950	,
	6924	,
	6898	,
	6872	,
	6846	,
	6820	,
	6794	,
	6768	,
	6742	,
	6716	,
	6690	,
	6664	,
	6638	,
	6612	,
	6586	,
	6559	,
	6533	,
	6507	,
	6481	,
	6454	,
	6428	,
	6402	,
	6375	,
	6349	,
	6323	,
	6296	,
	6270	,
	6243	,
	6217	,
	6191	,
	6164	,
	6138	,
	6111	,
	6084	,
	6058	,
	6031	,
	6005	,
	5978	,
	5952	,
	5925	,
	5898	,
	5872	,
	5845	,
	5818	,
	5791	,
	5765	,
	5738	,
	5711	,
	5684	,
	5657	,
	5631	,
	5604	,
	5577	,
	5550	,
	5523	,
	5496	,
	5469	,
	5442	,
	5415	,
	5388	,
	5361	,
	5334	,
	5307	,
	5280	,
	5253	,
	5226	,
	5199	,
	5172	,
	5144	,
	5117	,
	5090	,
	5063	,
	5036	,
	5009	,
	4981	,
	4954	,
	4927	,
	4899	,
	4872	,
	4845	,
	4818	,
	4790	,
	4763	,
	4735	,
	4708	,
	4681	,
	4653	,
	4626	,
	4598	,
	4571	,
	4544	,
	4516	,
	4489	,
	4461	,
	4434	,
	4406	,
	4378	,
	4351	,
	4323	,
	4296	,
	4268	,
	4240	,
	4213	,
	4185	,
	4158	,
	4130	,
	4102	,
	4075	,
	4047	,
	4019	,
	3991	,
	3964	,
	3936	,
	3908	,
	3880	,
	3853	,
	3825	,
	3797	,
	3769	,
	3741	,
	3713	,
	3686	,
	3658	,
	3630	,
	3602	,
	3574	,
	3546	,
	3518	,
	3490	,
	3462	,
	3434	,
	3406	,
	3378	,
	3350	,
	3322	,
	3294	,
	3266	,
	3238	,
	3210	,
	3182	,
	3154	,
	3126	,
	3098	,
	3070	,
	3042	,
	3014	,
	2986	,
	2958	,
	2929	,
	2901	,
	2873	,
	2845	,
	2817	,
	2789	,
	2761	,
	2732	,
	2704	,
	2676	,
	2648	,
	2619	,
	2591	,
	2563	,
	2535	,
	2507	,
	2478	,
	2450	,
	2422	,
	2393	,
	2365	,
	2337	,
	2309	,
	2280	,
	2252	,
	2224	,
	2195	,
	2167	,
	2139	,
	2110	,
	2082	,
	2053	,
	2025	,
	1997	,
	1968	,
	1940	,
	1912	,
	1883	,
	1855	,
	1826	,
	1798	,
	1769	,
	1741	,
	1713	,
	1684	,
	1656	,
	1627	,
	1599	,
	1570	,
	1542	,
	1513	,
	1485	,
	1456	,
	1428	,
	1399	,
	1371	,
	1342	,
	1314	,
	1285	,
	1257	,
	1228	,
	1200	,
	1171	,
	1143	,
	1114	,
	1086	,
	1057	,
	1029	,
	1000	,
	972 ,
	943 ,
	915 ,
	886 ,
	857 ,
	829 ,
	800 ,
	772 ,
	743 ,
	715 ,
	686 ,
	658 ,
	629 ,
	600 ,
	572 ,
	543 ,
	515 ,
	486 ,
	457 ,
	429 ,
	400 ,
	372 ,
	343 ,
	315 ,
	286 ,
	257 ,
	229 ,
	200 ,
	172 ,
	143 ,
	114 ,
	86	,
	57	,
	29	,
	0	
};

const uint16_t mytan[] = {
0,57,115,172,229,286,343,400,457,
514,571,628,684,741,797,853,909,
965,1020,1076,1131,1186,1241,1295,
1350,1404,1457,1511,1564,1617,1670,
1722,1774,1826,1878,1929,1980,2030,
2081,2131,2180,2229,2278,2327,2375,
2423,2470,2517,2564,2610,2657,2702,
2747,2792,2837,2881,2925,2968,3011,
3054,3096,3138,3180,3221,3262,3302,
3342,3382,3422,3461,3499,3537,3575,
3613,3650,3687,3723,3760,3795,3831,
3866,3901,3935,3969,4003,4036,4070,
4102,4135,4167,4199,4230,4261,4292,
4323,4353,4383,4413,4442,4471,4500,};

s32 yx_cos_f32(Angle_typ x);
s32 yx_sin_f32(Angle_typ x);
Angle_typ yx_atan2_f32(float _x,float _y);
float yx_fabs(float _f);
float yx_sqrt(float _number);



float yx_fabs(float _f)
{
	uint32 tmp = *(uint32*) &_f;
	tmp &= 0x7FFFFFFF;
	return *(float*)&tmp;
}

float yx_sqrt(float _number)
{
	uint32 i;
	float x2,y;
	const float threehalfs = 1.5f;

	x2 = _number*0.5f;
	y = _number;
	i = *(uint32*)&y;
	i = 0x5f3759df - (i>>1);
	y = *(float*)&i;
	y = y*(threehalfs - (x2*y*y));
	return _number*y;
}


/*******************************************************************************
* Function Name  : yx_cos_f32
* Description    : 计算当前角度的余弦值
* Input          : 角度值(度)，精确0.1度
* Output         : None
* Return         : Cos 对应的余弦值扩大了16384倍(0x4000)，
*******************************************************************************/
s32 yx_cos_f32(Angle_typ x)
{
	uint16_t t;
	
	if(yx_fabs(x) >= 360)
	{
		x = x - ((s16)((s16)x)/360)*360;
	}

	if(x<0)
	{
		x = 360+x;
	}

	if((x>=0)&&(x<=90))
	{
		x = (x*10);
		t = ((uint16)x)%901;
		return cos_map[t];
	}
	else if((x>90)&&(x<180))
	{
		x = ((180-x)*10);
		t = ((uint16)x)%901;
		return -cos_map[t];
	}	
	else if((x>=180)&&(x<270))
	{
		x = ((x-180)*10);
		t = ((uint16)x)%901;
		return -cos_map[t];
	}
	else if((x>=270)&&(x<360))
	{
		x = ((360-x)*10);
		t = ((uint16)x)%901;
		return cos_map[t];
	}

	return 0;
}

/*******************************************************************************
* Function Name  : yx_cos_f32
* Description    : 计算当前角度的正弦值
* Input          : 角度值(度)，精确0.1度
* Output         : None
* Return         : Sin 对应的正弦值扩大了16384倍(0x4000)，
*******************************************************************************/
s32 yx_sin_f32(Angle_typ x)
{
	uint16 t;
	
	if(yx_fabs(x) >= 360)
	{
		x = x - ((s16)((s16)x)/360)*360;
	}

	if(x<0)
	{
		x = 360+x;
	}

	if((x>=0)&&(x<90))
	{
		x = (x*10);
		t = ((uint16)x)%901;
		return sin_map[t];
	}
	else if((x>=90)&&(x<=180))
	{
		x = ((180-x)*10);
		t = ((uint16)x)%901;
		return sin_map[t];
	}	
	else if((x>180)&&(x<270))
	{
		x = ((x-180)*10);
		t = ((uint16)x)%901;
		return -sin_map[t];
	}
	else if((x>=270)&&(x<360))
	{
		x = ((360-x)*10);
		t = ((uint16)x)%901;
		return -sin_map[t];
	}

	return 0;
}

Angle_typ yx_atan2_f32(float _x,float _y)
{
	uint32 t_x,t_y;
	int16_t t_angle;
	
	t_x = (uint32)yx_fabs(_x);
	t_y = (uint32)yx_fabs(_y);

	if (t_x < t_y)
	{
		t_angle = 9000.0f - mytan[100*t_x/t_y];
	}
	else
	{
		t_angle = mytan[100*t_y/t_x];
	}

	if (((_y >= 0)&&(_x < 0)) || ((_y < 0)&&(_x >= 0)))
            t_angle = -t_angle;

	if ((_x < 0)&&(_y < 0))
		t_angle -= 18000.0f;
	else if ((_x < 0)&&(_y >= 0 ))
		t_angle += 18000.0f;

	return ((Angle_typ)t_angle/100.0f);
}

